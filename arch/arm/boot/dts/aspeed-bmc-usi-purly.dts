/dts-v1/;

#include "aspeed-g5.dtsi"
#include <dt-bindings/gpio/aspeed-gpio.h>

/ {
	model = "USI Purly BMC";
	compatible = "usi,purly-bmc", "aspeed,ast2500";

	chosen {
		stdout-path = &uart5;
		bootargs = "console=ttyS4,115200 earlyprintk";
	};

	memory {
		reg = <0x80000000 0x20000000>;
	};
	
	leds {
		compatible = "gpio-leds";

		m-cpu000-led {
			gpios = <&pca0 0 GPIO_ACTIVE_LOW>;
			default-state = "off";
		};

		
	};	


};

&fmc {
	status = "okay";
	flash@0 {
		status = "okay";
		m25p,fast-read;
#include "openbmc-flash-layout.dtsi"
	};
};

&spi1 {
	status = "okay";
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_spi1_default>;

	flash@0 {
		status = "okay";
		label = "pnor";
		m25p,fast-read;
	};
};

&spi2 {
	status = "okay";
};

&uart5 {
	status = "okay";
};

&mac0 {
	status = "okay";

	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_rgmii1_default &pinctrl_mdio1_default>;
	use-ncsi;
};

&mac1 {
	status = "okay";

	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_rgmii2_default &pinctrl_mdio2_default>;
	use-ncsi;
};

&i2c0 {
	status = "okay";

	pca0: pca9555@21 {
		compatible = "nxp,pca9555";
		gpio-controller;
		#gpio-cells = <2>;
		reg = <0x21>;
	};
	pca1: pca9557@1e {
		compatible = "nxp,pca9557";
		gpio-controller;
		#gpio-cells = <2>;
		reg = <0x1e>;
	};
	pca2: pca9555@22 {
		compatible = "nxp,pca9555";
		gpio-controller;
		#gpio-cells = <2>;
		reg = <0x22>;
	};
	tmp75@4e {
		compatible = "ti,tmp75";
		reg = <0x4e>;
	};
};

&i2c1 {
	status = "okay";

	tmp75@4d {
		compatible = "ti,tmp75";
		reg = <0x4d>;
	};

};

&i2c2 {
	status = "okay";

};

&i2c3 {
	status = "okay";

};

&i2c4 {
	status = "okay";

};

&i2c5 {
	status = "okay";

};

&i2c6 {
	status = "okay";

	i2c-switch@70 {
		compatible = "nxp,pca9545";
		reg = <0x70>;
		i2c-mux-idle-disconnect = "true";

	};
};

&i2c7 {
	status = "okay";

	i2c-switch@76 {
		compatible = "nxp,pca9546";
		reg = <0x76>;
		i2c-mux-idle-disconnect = "true";

	};

};

&i2c8 {
	status = "okay";

};

&i2c9 {
	status = "okay";

};

&i2c10 {
	status = "okay";

};

&i2c11 {
	status = "okay";

};

&i2c12 {
	status = "okay";

};

&i2c13 {
	status = "okay";

};


&gfx {
	status = "okay";
};

&pinctrl {
	aspeed,external-nodes = <&gfx &lhc>;
};

&wdt2 {
	status = "okay";
};
